{% extends 'misc_base.html' %}

{% block title %}Goals{% endblock %}

{% block heading %}<h1>Goals (<a href='/my/goals/create'>+</a>)</h1>{% endblock %}

{% block body %}
{% if not goals %}
<p>You don't have any goals yet. Try <a href="/my/goals/create">setting some.</a></p>
{% endif %}
<br><br>
{% for goal in goals %}
<div class="card">
    <p><b>{{goal[2]}}</b><br><progress value="{{((goal[5]+1) / len(load(goal[6])['stages']) * 100) }}" max="100"></progress><br>Stage {{ goal[5]+1 }} of {{ len(load(goal[6])["stages"]) }}</p>
    <p>{{goal[3]}}</p>
    <button onclick="document.location.href = '/my/goals/{{ goal[0] }}'">More Details</button><br><br>
</div>
<br>
{% endfor %}
{% endblock %}